# TODO_BACKLOG

## Critical / Now
- [x] Create `real-estate-platform` parent repo.
- [x] Copy current Fairfield app to `apps/web`.
- [x] Move/initialize studio as `apps/studio`.
- [x] Add workspace tooling and root scripts.
- [x] Define shared domain and event types.
- [x] Stand up tenant/domain schema.
- [x] Complete tenant context threading through remaining website APIs and data providers.
- [x] Complete tenant context threading through remaining client-side/static data providers.
- [x] Replace seed-backed tenant persistence with durable data store + migrations.

## Next
- [x] Scaffold `apps/admin` control-plane app with protected auth boundary and internal operations dashboard shell.
- [x] Implement shared control-plane db/contracts for tenant provisioning, domain lifecycle management, and plan/feature-flag settings.
- [x] Add tenant provisioning/domain/status API routes in `apps/admin` and connect dashboard mutation flows.
- [x] Add route-level tests for control-plane API validation/guard behavior and happy-path provisioning/domain updates.
- [x] Execute `@real-estate/admin` route-test command in a compatible local environment (tsx IPC + platform-matched esbuild) and record passing output. (Validated 2026-02-14 via Windows `cmd.exe`: 8/8 tests pass.)
- [x] Re-run Prisma migrate/seed validation for control-plane schema changes in a network-capable environment (`binaries.prisma.sh` reachable) and confirm migration `202602130004_add_tenant_control_settings` application. (Validated 2026-02-14 via Windows `cmd.exe`: migrate applied and seed script executed successfully.)
- [x] Confirm `npm run build --workspace @real-estate/admin` in standard dev environment after resolving sandbox SWC/cache constraints. (Validated 2026-02-14 via Windows `cmd.exe` after Prisma client regeneration.)
- [x] Add admin mutation RBAC/audit boundary in `apps/admin` routes (`tenant.provision`, `tenant.domain.add`, `tenant.domain.update`, `tenant.settings.update`) with route-level deny/allow coverage.
- [x] Persist admin control-plane audit events in a durable shared boundary (schema + helper) instead of app-log-only emission. (Implemented model/migration `AdminAuditEvent` + helper `packages/db/src/admin-audit.ts`, wired admin audit sink to shared helper, and validated route/build/test flow on 2026-02-14.)
- [x] Expose admin audit timeline read surface (API + UI) for operator query workflows. (Implemented `apps/admin/app/api/admin-audit/route.ts` and timeline module/filters in `apps/admin/app/components/control-plane-workspace.tsx` on 2026-02-14.)
- [x] Add route-level integration tests for admin audit timeline read endpoint behavior (tenant-filtered + recent global feed aggregation). (Validated 2026-02-14 via `apps/admin/app/api/lib/routes.integration.test.ts`: audit tenant/global feed tests added, `cmd.exe` run passes 13/13.)
- [x] Re-run `@real-estate/admin` route/build validation for audit timeline changes in Windows `cmd.exe` and record authoritative outcomes. (Validated 2026-02-14: `test:routes` 13/13 pass and `build` pass including `/api/admin-audit` route output.)
- [x] Build tenant resolver middleware by host header.
- [x] Implement website module registry + toggle system.
- [x] Install `@real-estate/db` workspace dependencies and run Prisma generate/migrate/seed locally.
- [x] Create CRM app skeleton and auth integration.
- [x] Build lead/contact/activity database model.
- [x] Add event ingestion pipeline from website actions to CRM.
- [x] Mitigate local Prisma engine file-lock issue impacting `db:generate` reliability on Windows dev environment.
- [x] Build tenant-scoped CRM read/write API routes and dashboard UI modules for leads, contacts, and activity timeline.
- [x] Elevate CRM UI from baseline scaffold to polished, brand-aligned workspace shell and responsive module layout (`apps/crm/app/components/crm-workspace.tsx`, `apps/crm/app/globals.css`, auth entry pages).
- [x] Introduce ingestion service boundary (queue/worker contract) so website APIs enqueue events instead of direct CRM writes.
- [x] Add Prisma config migration (`prisma.config.ts`) and remove deprecated `package.json#prisma` in `@real-estate/db`.
- [x] Expand CRM API filtering/pagination contracts and add route-level validation tests.
- [x] Add CRM API route integration tests for tenant/auth guards, payload validation, pagination responses, and lead status activity side effects.
- [x] Add CRM mutation failure integration coverage for tenant-scoped invalid lead/contact linkage on activity creation.
- [x] Add ingestion worker retry scheduling + dead-letter handling for production reliability.
- [x] Add integration test flow for enqueue -> worker -> CRM persistence (tenant-scoped baseline).
- [x] Add dead-letter lifecycle coverage to ingestion integration flow (invalid payload -> dead-letter -> requeue -> dead-letter).
- [x] Add retry/backoff integration coverage for queue reprocessing cadence (`pending -> processing -> pending` with `nextAttemptAt` gating and attempt count progression).
- [x] Add terminal retry-threshold integration coverage for `ingestion_failed` jobs transitioning to `dead_letter` at max attempts.
- [x] Add dead-letter operator command integration coverage for single-job requeue and tenant-filtered batch requeue paths.
- [x] Add explicit payload validation guard in ingestion path to avoid noisy runtime throws for malformed lead/valuation payloads.
- [x] Add machine-readable JSON output mode for dead-letter operator commands and assert payload shape stability in integration tests.
- [x] Add malformed valuation payload integration coverage to verify retry/backoff and max-attempt dead-letter semantics match malformed lead behavior.
- [x] Add deterministic temporary-tenant fixture lifecycle for ingestion integration test runs to avoid persistent baseline data growth.
- [x] Extract shared ingestion integration test helpers for tenant fixture lifecycle and forced retry progression; refactor integration scripts to consume helper and assert cleanup success.
- [x] Move Prisma client generation/runtime loading to package-local output (`packages/db/generated/prisma-client`) to reduce shared Windows engine lock contention.
- [x] Stabilize Prisma full-engine local generation path on Windows so ingestion scripts can run end-to-end.
- [x] Add dead-letter queue observability + manual re-drive tooling for operations.
- [x] Re-run post-restart Windows Prisma/runtime validation (`db:generate`, `db:generate:direct`, `worker:ingestion:drain`, `@real-estate/admin` route tests) to confirm no partial session state regressions. (Validated 2026-02-16 via Windows `cmd.exe`: all commands pass.)
- [x] Run repeated Windows `db:generate:direct` loop (10+ attempts) and record `EPERM` incidence rate to decide whether additional safe-generate retry/backoff hardening is still required. (Validated 2026-02-16 via Windows `cmd.exe`: 15/15 pass, 0 failures.)
- [x] Add explicit retry/failure-rate logging output to Prisma reliability sampling workflow (store pass/fail snapshots in `.brain` per session) so lock regressions are measurable over time. (Implemented 2026-02-16 via `packages/db/scripts/db-generate-reliability-sample.mjs` + `db:generate:sample` workspace/root command.)
- [x] Add stronger lock retry/backoff handling to safe Prisma generate path before `--no-engine` fallback. (Implemented 2026-02-16 in `packages/db/scripts/db-generate-safe.mjs`: 3 retries with cleanup + progressive backoff.)
- [x] Add temp-artifact hygiene for Prisma lock failures (`query_engine-windows.dll.node.tmp*`) so sampling/hardening loops do not accumulate stray files. (Implemented 2026-02-16 via safe-generate cleanup + `.gitignore` rule.)
- [x] Identify and implement one additional mitigation for persistent Windows Prisma engine rename lock when direct generation repeatedly fails (`query_engine-windows.dll.node` EPERM), then re-run reliability sample to verify improved full-engine success rate. (Implemented 2026-02-17 via new direct wrapper `packages/db/scripts/db-generate-direct.mjs` with rename-lock probe/wait + cleanup + retry/backoff, and re-ran Windows-authoritative sample: still `0/6` pass, so mitigation landed but did not improve success rate yet.)
- [x] Implement next mitigation targeting lock-holder process/file-handle contention for `packages/db/generated/prisma-client/query_engine-windows.dll.node` (beyond retry/cleanup/wait), then compare Windows sample pass rate before/after. (Implemented 2026-02-17 by adding healthy full-engine client reuse gate in `packages/db/scripts/db-generate-direct.mjs`; Windows-authoritative sample improved from `0/6` to `6/6` pass for the same command.)
- [x] Run an extended Windows reliability sample (`db:generate:sample -- 10+ --json --exit-zero`) to confirm mitigation stability over a larger attempt window and record results in `.brain/CURRENT_FOCUS.md`. (Validated 2026-02-17 via Windows `cmd.exe`: `db:generate:sample -- 12 --json --exit-zero` passed `12/12` with `0` `EPERM` failures; post-sample `worker:ingestion:drain` also passed.)
- [ ] Continue periodic Windows reliability sampling (10+ attempts) after restarts/environment changes and track pass/fail trend in `.brain/CURRENT_FOCUS.md`. (Latest 2026-02-22 Windows-authoritative sample: `12/12` pass, `0` `EPERM` lock failures; `worker:ingestion:drain` command from this mixed WSL/Windows dependency state was non-authoritative due `esbuild` platform mismatch.)
- [x] Implement next Prisma Windows lock mitigation for `db:generate:direct` and re-run `db:generate:sample -- 12 --json --exit-zero` to restore stable pass rate. (Completed 2026-02-20 via preflight lock reuse + `DATABASE_URL` fallback + existing-engine preservation in `packages/db/scripts/db-generate-direct.mjs`; sample recovered to `12/12` pass.)
- [x] Add CRM lead-list workflow refinements: quick search/filter controls and pipeline grouping option while preserving tenant-scoped API contracts. (Implemented 2026-02-17 in `apps/crm/app/components/crm-workspace.tsx` with status-tab filtering, multi-filter controls, and sticky quick actions for draft saves.)
- [x] Add CRM micro-interaction polish: optimistic mutation feedback, inline success toasts, and unsaved-change indicators for lead notes/status edits. (Implemented 2026-02-17 in `apps/crm/app/components/crm-workspace.tsx` + `apps/crm/app/globals.css` with optimistic lead/contact/activity mutations, toast stack feedback, and per-lead unsaved draft indicators.)
- [x] Ingest website browsing intent events into CRM pipeline (`search performed`, `listing viewed`, `listing favorited/unfavorited`) so lead-behavior intelligence is persisted tenant-scoped for CRM use. (Implemented 2026-02-17 via `apps/web/app/api/website-events/route.ts`, Home Search/favorites tracking hooks, expanded `packages/types/src/events.ts`, and ingestion handling in `packages/db/src/crm.ts`.)
- [x] Add CRM UI surfaces for website behavior intelligence (Lead Profile Modal sections + timeline/table widgets for search history, listing views, favorites, and most-recent intent signals). (Completed 2026-02-17 in `apps/crm/app/components/crm-workspace.tsx` with modal behavior cards/lists, filter summaries, timeline integration, and dashboard/table intent indicators.)
- [x] Implement reusable Lead Profile Modal across CRM touchpoints (Recent Activity rows, lead names/addresses/contacts, search/autocomplete, table rows, and pipeline cards) with inline edit + save. (Completed 2026-02-17 in `apps/crm/app/components/crm-workspace.tsx`.)
- [x] Add dedicated sortable Leads Table view/tab (Name, Lead Type, Status, Price Range, Location, Last Contact, Beds/Baths/Size desired, Source, Updated At). (Completed 2026-02-17 in `apps/crm/app/components/crm-workspace.tsx`.)
- [x] Make Dashboard KPI cards (`New Leads`, `Need Follow-up`, `Open Pipeline`, `Closed Win Rate`) clickable with clear drill-down/filter behavior. (Completed 2026-02-17.)
- [x] Fix CRM shell navigation affordances: functional left-sidebar `Settings`, functional top-right user menu (Profile/Settings/Logout), and durable header/footer layout treatment. (Completed 2026-02-17 with settings panel placeholder and shell/footer actions.)
- [x] Rework Pipeline board lane rendering so headers/cards are visible on initial load, and add visible horizontal lane navigation controls for smaller laptop viewports. (Completed 2026-02-17 with sticky headers, reduced lane minimum height, and arrow controls.)
- [x] Add Pipeline-local filter controls with explicit `All` option, and make Dashboard-vs-Pipeline filter synchronization explicit/non-surprising. (Completed 2026-02-17 with independent filter state + clear-all control.)
- [x] Add search autocomplete behavior in CRM shell search input with lead/contact suggestions, status metadata, and click-through into Lead Profile Modal. (Implemented 2026-02-17 in `apps/crm/app/components/crm-workspace.tsx` with suggestion dropdown and modal-open actions.)
- [x] Fix Pipeline card save/status transitions so save buttons are always actionable and status changes move cards predictably without accidental disappearance under active filters. (Completed 2026-02-17 with always-actionable save behavior + filter-state notice.)
- [x] Normalize source/type display mappings in CRM UI so internal values (e.g. `website_valuation`) consistently render as operator-friendly labels (e.g. `Valuation Request`) without data-model migration. (Completed 2026-02-17 via `apps/crm/app/lib/crm-display.ts`.)
- [x] Update Activity form linkage UX: lead/contact dropdowns auto-sync in both directions, default most-recent ordering, and optional alphabetical sort toggle. (Completed 2026-02-17 in CRM activity form.)
- [x] Ensure logged notes are visible in all relevant surfaces (Recent Activity feed, lead modal timeline/history, lead-specific context views). (Completed 2026-02-17 in dashboard activity feed + modal timeline.)
- [x] Fix overly dark hover highlights across CRM interactive text/card surfaces (lead/address links, KPI cards, sortable table headers) by normalizing to subtle readable hover styles in `apps/crm/app/globals.css`. (Completed 2026-02-17.)

## Next Session Candidate Work (Admin Priority)
- [ ] Propagate the GTM baseline into operator enablement artifacts (sales/onboarding runbook + Admin seed defaults) so canonical plan matrix, setup SLA policy, and managed-services model are operationalized beyond `.brain/PRODUCT_SPEC.md`.
- [x] Build tenant support diagnostics toolkit (auth/domain/ingestion health checks with operator-friendly remediation actions). (Completed 2026-02-20 via `apps/admin/app/api/tenants/[tenantId]/diagnostics/route.ts`, shared db helpers in `packages/db/src/control-plane.ts`, and Admin workspace diagnostics UI/remediation controls in `apps/admin/app/components/control-plane-workspace.tsx`.)
- [x] Implement data safety/recovery controls in Admin (soft-delete/restore flows for tenant/domain/settings plus destructive-action confirmations). (Completed 2026-02-20 via status-based lifecycle routes + Admin confirmation UX in `apps/admin`.)
- [x] Improve Admin mutation error transparency: surface actionable backend error messages in onboarding/domain/settings UI (RBAC denial, duplicate slug/domain, validation failures) with field-level guidance and operator next steps. (Implemented 2026-02-18 in `apps/admin/app/components/control-plane-workspace.tsx` + `apps/admin/app/lib/mutation-error-guidance.ts`.)
- [x] Add domain operations automation surface (verification status polling/retry controls and SSL/certificate readiness indicators) on top of existing manual domain actions. (Implemented 2026-02-19 in `apps/admin/app/components/control-plane-workspace.tsx` with polling/auto-poll/retry controls and readiness cards.)
- [x] Implement managed plan/feature governance UX (plan catalog defaults, guardrails, and reusable feature-flag templates by plan tier). (Implemented 2026-02-19 in `apps/admin/app/components/control-plane-workspace.tsx` + `apps/admin/app/lib/plan-governance.ts`.)
- [x] Expand audit timeline UX (advanced filters, diff-style change detail, exportable logs, and stronger actor/request attribution). (Completed 2026-02-20 in `apps/admin/app/api/admin-audit/route.ts`, `apps/admin/app/api/lib/admin-access.ts`, and `apps/admin/app/components/control-plane-workspace.tsx` with route tests updated.)
- [ ] Run a focused manual browser click-through for admin onboarding + domain ops on desktop and smaller laptop viewport to confirm no environment-specific interaction/layout regressions. (Deferred per product-direction override on 2026-02-20 until additional Admin UI/UX improvements are completed; sandbox remains non-authoritative for local runtime bind checks.)
- [x] Add backend-driven domain verification/certificate status probes so admin poll/retry controls use authoritative external status instead of UI-level refresh-only semantics. (Implemented 2026-02-19 via `apps/admin/app/api/lib/domain-probe.ts`, `apps/admin/app/api/tenants/[tenantId]/domains/probe/route.ts`, and Domain Ops wiring in `apps/admin/app/components/control-plane-workspace.tsx`; validated with `@real-estate/admin` route tests `15/15` and build pass.)
- [x] Harden billing provider ingress with provider-native webhook signature verification + payload normalization for Stripe-style events. (Completed 2026-02-20 in `apps/admin/app/api/billing/webhooks/route.ts` with route coverage updates in `apps/admin/app/api/lib/routes.integration.test.ts`; validated via Windows `test:routes` `38/38`, `lint`, and `build`.)
- [x] Add entitlement drift detection/reporting on reconciled billing provider events (compare provider entitlement signals against persisted tenant settings and return actionable drift summaries). (Completed 2026-02-20 via shared drift summary logic in `packages/db/src/control-plane.ts`, webhook reporting in `apps/admin/app/api/billing/webhooks/route.ts`, and route coverage updates in `apps/admin/app/api/lib/routes.integration.test.ts`; validated via Windows `test:routes` `39/39`, `lint`, and `build`.)
- [x] Add operator-facing drift triage surfaces in Admin billing/audit workflows (drift signal cards + one-click audit preset + investigation guidance). (Completed 2026-02-20 in `apps/admin/app/components/control-plane-workspace.tsx` + `apps/admin/app/globals.css`; validated via Windows `test:routes` `39/39`, `lint`, and `build`.)
- [x] Add operator remediation shortcuts from drift triage (map missing/extra entitlement flags into guided settings/billing correction actions). (Completed 2026-02-20 in `apps/admin/app/components/control-plane-workspace.tsx` with per-signal missing/extra/all quick actions that update settings draft flags and arm billing entitlement sync; validated via Windows `test:routes` `39/39`, `lint`, and `build`.)
- [x] Add focused automated regression coverage for billing drift remediation shortcut behavior (settings-draft flag mutation + entitlement-sync arming). (Completed 2026-02-20 via shared helper `apps/admin/app/lib/billing-drift-remediation.ts` and targeted tests in `apps/admin/app/api/lib/routes.integration.test.ts`; validated via Windows `test:routes` `43/43`, `lint`, and `build`.)
- [x] Add billing drift reporting summary surface (recent drift counts/modes per tenant) to extend operator visibility beyond per-event triage. (Completed 2026-02-20 via observability summary aggregation in `packages/db/src/control-plane.ts`, shared contracts in `packages/types/src/control-plane.ts`, and Admin UI surface in `apps/admin/app/components/control-plane-workspace.tsx`; validated with `@real-estate/admin` route tests `43/43`.)
- [ ] Run a final manual local browser click-through for CRM (desktop + smaller laptop viewport) to close the remaining post-polish validation gap after current admin-priority work. (Deferred per product-direction override on 2026-02-20 until additional CRM UI/UX improvements are completed; sandbox remains non-authoritative for local runtime bind checks.)

## CRM UI/UX Overhaul (Phase Tracking)
- [x] Phase 0: Component Decomposition ‚Äî extracted types, formatters, scoring, display helpers, leaf components (`EmptyState`, `SevenDayPulse`, `StatusIcon`, etc.), and `LeadProfileModal` from monolithic `crm-workspace.tsx`. (Completed 2026-02-21.)
- [x] Phase 1A: Enhanced empty states + micro-animations (4 CSS keyframe animations, pipeline card hover enhancement). (Completed 2026-02-21.)
- [x] Phase 1B: 7-Day Pulse polish ‚Äî angular straight-line SVG, sticky tooltip, full date format. (Completed 2026-02-21.)
- [x] Phase 1C: Lead modal enhancements + contact history + DB migration (`202602210001_add_lead_tracking_fields` ‚Äî 5 new Lead columns). Full-stack: schema ‚Üí types ‚Üí helpers ‚Üí API ‚Üí UI. New `ContactHistoryLog.tsx`. (Completed 2026-02-21.)
- [x] Phase 1D: Lead Tracker phone/email columns with `tel:` and `mailto:` links. (Completed 2026-02-21.)
- [x] Phase 1E: Dynamic dashboard widgets ‚Äî hydration-safe greeting, urgent follow-ups widget. (Completed 2026-02-21.)
- [x] Phase 2: Properties / Prospecting Tool ‚Äî shared listing types (`packages/types/src/listings.ts`), property cards/filters/detail modal, CRM assign/send actions, mock listings provider. (Completed 2026-02-21.)
- [x] Phase 3: Active Transactions (#14) ‚Äî 4 DB models (Transaction, TransactionParty, TransactionDocument, TransactionMilestone), 7 API routes (factory pattern), 5 UI components (TransactionsView, TransactionPipeline, TransactionCard, TransactionDetailModal, NewTransactionForm), workspace nav integration. (Completed 2026-02-21, session 4.)
- [x] Phase 4: Drag-and-Drop Pipeline (#25) ‚Äî @dnd-kit/core + @dnd-kit/sortable, PipelineView/PipelineColumn/PipelineCard extraction, DndContext with drag overlay, optimistic status update on drop, keyboard DnD. (Completed 2026-02-21.)
- [x] Phase 5: Dark Mode ‚Äî CSS variable override via `[data-theme="dark"]`, `useCrmTheme` hook with per-tenant localStorage persistence, sidebar toggle. (Completed 2026-02-21.)
- [x] Phase 6A: ICS calendar utility (`crm-calendar.ts`) for follow-up reminder downloads. (Completed 2026-02-21.)
- [x] Phase 6B: Performance polish ‚Äî `React.memo` on StatusIcon, KpiSparkline, PropertyCard; `dynamic()` imports for ProfileView, SettingsView, LeadProfileModal, PropertiesView. (Completed 2026-02-21.)
- [x] Phase 10A: "My Day" focus panel ‚Äî hero strip with overdue/today/hot leads, quick stats, collapsible. (Completed 2026-02-21.)
- [x] Phase 10B: Conversion funnel SVG widget with draw-in animation and legend. (Completed 2026-02-21.)
- [x] Phase 10C: Revenue pipeline widget with commission estimates and lane totals. (Completed 2026-02-21.)
- [x] Phase 11A: Command Palette (Cmd+K) ‚Äî fuzzy search, navigation, lead search, keyboard nav. (Completed 2026-02-21.)
- [x] Phase 11B: Notification Center ‚Äî right-side slide panel with overdue/activity/milestone categories and badge. (Completed 2026-02-21.)
- [x] Phase 11C: Pinned Leads ‚Äî `usePinnedLeads` hook, star toggle on pipeline cards, sidebar chips. (Completed 2026-02-21.)
- [x] Phase 12A: Analytics view ‚Äî performance metrics, time range selector, source ROI table. (Completed 2026-02-21.)
- [x] Phase 12C: CSV export utility (`crm-export.ts`) for leads and contacts. (Completed 2026-02-21.)
- [x] Phase 14B: Deal value on pipeline cards + lane totals with commission estimates. (Completed 2026-02-21.)
- [x] Phase 14C: Pipeline aging indicators ‚Äî `crm-aging.ts` with 7d/14d/30d+ badges. (Completed 2026-02-21.)
- [x] Phase 7: Auto Lead-to-Property Matching ‚Äî `getLeadPropertyMatches()` with weighted scoring, `GET /api/leads/[leadId]/matches` route, "Suggested Properties" section in LeadProfileModal, "Matches" chip on pipeline cards. (Completed 2026-02-21.)
- [x] Phase 14A: Pipeline Swimlanes ‚Äî "By Status" / "By Type" toggle with compact cards and status dots. (Completed 2026-02-21.)
- [x] Phase 9C (partial): Communication Quick Actions ‚Äî Phone/Email/Text icons on pipeline cards. (Completed 2026-02-21.)
- [x] Phase 10D: Breadcrumb Context Bar ‚Äî 28px nav strip below header with view path + lead name. (Completed 2026-02-21.)
- [x] Phase 12B: Lead Source ROI chart ‚Äî SourceRoiChart component with editable cost inputs, CSS bar chart, ROI tier coloring. Wired into AnalyticsView. (Completed 2026-02-21, session 4.)
- [x] Phase 13A: Unified Lead Timeline ‚Äî UnifiedTimeline + TimelineEvent components replacing 3 separate sections. Category filters, day grouping, relative timestamps. (Completed 2026-02-21, session 4.)
- [x] Phase 13B: Lead Tags ‚Äî DB migration (tags TEXT column), inline tag input with autocomplete, preset suggestions, PATCH API, `/api/leads/tags` endpoint, filter-by-tag support. (Completed 2026-02-21, session 4.)
- [x] Phase 13C: Source Attribution Chain ‚Äî SourceAttributionChain component with transit-map visualization, auto-computed from activities, deduplication, overflow indicator. (Completed 2026-02-21, session 4.)
- [x] Phase 13D: Duplicate Detection ‚Äî `findPotentialDuplicateLeads` DB helper, `/api/leads/duplicates` route, DuplicateWarning component with View/Dismiss actions. (Completed 2026-02-21, session 4.)
- [x] Phase 8: AI Integration Foundation ‚Äî `packages/ai/` scaffold with types, config, LLM client, prompt templates, and 4 CRM orchestration modules (next-action-engine, lead-intelligence, message-drafting, conversation-extractor). 5 factory-pattern AI API routes, 4 AI UI components, 12 route tests. (Completed 2026-02-22, session 5.)
- [x] Phase 9A: AI-Powered Reminders ‚Äî DB migration (`202602220001_add_reminder_fields` ‚Äî `nextActionChannel`, `reminderSnoozedUntil`), smart reminder engine (`packages/ai/src/crm/reminder-engine.ts`) with 5 rule-based patterns + AI enhancement, factory-pattern API route, `SmartReminderForm` UI component with AI suggestions + snooze, 3 route tests. (Completed 2026-02-22, session 7.)
- [x] Phase 9B: AI Message Templates ‚Äî Template library (`apps/crm/app/lib/crm-templates.ts`) with 9 templates, merge field resolution, `TemplateLibrary` UI component with category/channel filters, AI tone adjustment via existing draft-message API. (Completed 2026-02-22, session 7.)
- [x] Phase 9D: AI Escalation ‚Äî Escalation engine (`packages/ai/src/crm/escalation-engine.ts`) with 4 triggers and 5 escalation levels, score decay integration in `crm-scoring.ts`, factory-pattern API route, `EscalationBanner` + `EscalationAlertBanner` UI components, 3 route tests. (Completed 2026-02-22, session 7.)
- [x] Phase 9C (full): Communication Quick Actions (#44) ‚Äî tel:/mailto:/sms: links on LeadProfileModal header, Lead Tracker "Actions" column, MyDayPanel sections. (Completed 2026-02-22, session 8.)
- [x] Phase 9E: Win/Loss Analysis (#49) + Lead Handoff (#41) ‚Äî DB migration `202602230001_add_lead_close_and_assignment` (closeReason, closeNotes, closedAt, assignedTo, referredBy), WinLossModal component, workspace status-change integration. (Completed 2026-02-22, session 8.)
- [x] Phase 9F: AI Draft Composer UI (#52) ‚Äî AiDraftComposer component with channel/tone/prompt selection, suggestion chips, editable draft, mailto/clipboard actions. Wired into LeadProfileModal. (Completed 2026-02-22, session 8.)
- [x] Phase 9G: CSV Lead Import (#8) ‚Äî POST /api/leads/import route with contact-first creation, CsvImportModal component with drag-and-drop, auto column mapping, preview table, import progress. Expanded CrmLeadType and CreateCrmLeadInput. (Completed 2026-02-22, session 8.)
- [x] Phase 9H: AI Conversation Insights UI (#54) ‚Äî ConversationInsights component with extract-from-API, checkbox approval list, confidence badges. Wired into ContactHistoryLog for post-log and per-entry extraction. (Completed 2026-02-22, session 8.)
- [x] Phase 9I: Confirmed AI Lead Scoring Explanations (#50) and AI Lead Summaries (#53) already fully built and integrated. (Verified 2026-02-22, session 8.)
- [x] Remaining CRM polish: #62 Mobile-First Actions, #63 Offline Note Capture, #65 MLS/IDX Feed Status, #66 Document Management, #61 Export. (Completed 2026-02-22, session 10.)

## Control Plane Roadmap (Longer Term)
- [x] Improve Admin mutation error transparency: surface actionable backend error messages in UI (RBAC denial, duplicate slug/domain, validation failures) with field-level hints. (Implemented 2026-02-18 in admin onboarding/domain/settings flows with scoped next-step guidance.)
- [x] Build guided tenant onboarding workflow in Admin (multi-step wizard + completion checklist + next required action state). (Implemented 2026-02-18 in `apps/admin/app/components/control-plane-workspace.tsx` with 4-step provisioning flow and launch-readiness checks.)
- [x] Add domain operations automation surface (DNS record guidance, verification status polling/retry, certificate/SSL readiness indicators). (Completed 2026-02-19 with polling/retry controls and readiness indicators in admin Domain Ops.)
- [x] Implement managed plan/feature governance (plan catalog, defaults, guardrails, and feature-flag templates by plan tier). (Completed 2026-02-19 with shared plan-governance helper + onboarding/settings enforcement/override UX.)
- [x] Add authoritative domain/certificate status integrations behind Domain Ops polling controls (provider-backed verification checks + certificate lifecycle signal sync). (Completed 2026-02-19 via backend DNS/TLS probe route + Domain Ops UI integration.)
- [x] Add Admin RBAC management surface (role assignment, permission matrix, actor management, and secure support-session workflows). (Completed 2026-02-20 via new actor/support-session APIs + UI workflow in `apps/admin/app/components/control-plane-workspace.tsx` and shared db persistence in `packages/db/src/control-plane.ts`.)
- [x] Add control-plane observability dashboard (mutation failure trends, ingestion/runtime health indicators, and tenant-level readiness score). (Completed 2026-02-20 via `apps/admin/app/api/observability/route.ts`, shared summary helper `getControlPlaneObservabilitySummary`, and Admin observability UI section.)
- [x] Expand audit timeline UX (advanced filters, diff-style change detail, exportable logs, and stronger actor/request attribution). (Completed 2026-02-20 with richer filter API/UI, metadata attribution capture, and CSV/JSON export in Admin.)
- [x] Add data safety/recovery controls (soft-delete + restore flows for tenants/domains/settings, plus destructive-action confirmations). (Completed 2026-02-20 with tenant/domain/settings status lifecycle controls and restore paths.)
- [x] Integrate billing/subscription operations into control-plane workflows (plan transitions, entitlement sync, trial/payment status visibility). (Completed 2026-02-20 via Prisma model/migration `TenantBillingSubscription`, shared db helpers, Admin billing API route, and billing controls in `apps/admin/app/components/control-plane-workspace.tsx`.)
- [x] Build support diagnostics toolkit per tenant (auth/domain/ingestion checks with one-click operator diagnostics and remediation actions). (Completed 2026-02-20 via diagnostics API/db/UI surfaces with one-click remediation actions.)
- [x] Harden billing-provider integration on top of control-plane billing baseline (external provider/customer sync, status reconciliation/webhooks, and entitlement drift detection). (Completed 2026-02-20 across shared reconciliation, provider-native Stripe signature/payload hardening, and entitlement drift reporting with route-level coverage.)
- [x] Improve Admin workspace information architecture/usability (guided mode, clearer section naming, selected-tenant next-step summary, progressive disclosure for advanced tools). (Completed 2026-02-22 in `apps/admin/app/components/control-plane-workspace.tsx` + `apps/admin/app/globals.css`.)
- [x] Add task-based Admin workspace navigation with operator Action Center and inline glossary help for advanced platform terms. (Completed 2026-02-22 in `apps/admin/app/components/control-plane-workspace.tsx` + `apps/admin/app/globals.css`.)
- [x] Propagate GTM plan/onboarding/service baselines into operator enablement artifacts and Admin onboarding guidance/default surfaces. (Completed 2026-02-22 via `project_tracking/operator_onboarding_runbook.md`, `apps/admin/app/lib/commercial-baselines.ts`, Admin onboarding UI integration, plan-tier checklist templates, and actor seed presets.)
- [x] Extract Action Center prioritization into a tested pure helper and split new Admin task-navigation surfaces into subcomponents. (Completed 2026-02-22 via `apps/admin/app/lib/action-center.ts`, `apps/admin/app/lib/action-center.test.ts`, `apps/admin/app/components/control-plane/ActionCenterPanel.tsx`, and `apps/admin/app/components/control-plane/WorkspaceTaskTabs.tsx`.)
- [x] Continue Admin workspace decomposition by extracting `support` and `health` tab bodies plus workspace tab-metrics helper into dedicated/tested modules. (Completed 2026-02-22 via `SupportTabBody.tsx`, `PlatformHealthTabBody.tsx`, `workspace-task-metrics.ts`, and `workspace-task-metrics.test.ts`.)
- [x] Continue Admin workspace decomposition by extracting `billing`, `access`, and `audit` tab bodies into dedicated components while preserving tenant-scoped behavior. (Completed 2026-02-22 via `BillingTabBody.tsx`, `AccessTabBody.tsx`, and `AuditTabBody.tsx` plus wiring updates in `apps/admin/app/components/control-plane-workspace.tsx`.)
- [x] Implement onboarding task persistence MVP foundation + first Admin read/create integration (shared contracts, Prisma models/migration, db helpers, onboarding API routes, Launch checklist persisted read path, and Create Plan From Template action). (Completed 2026-02-22 in `packages/types/src/control-plane.ts`, `packages/db/prisma/schema.prisma`, `packages/db/prisma/migrations/202602220002_add_tenant_onboarding_persistence/migration.sql`, `packages/db/src/control-plane.ts`, onboarding admin API routes, and `apps/admin/app/components/control-plane-workspace.tsx`; sandbox route tests/typecheck remained non-authoritative due `tsx` IPC and WSL filesystem constraints.)
- [x] Add persisted onboarding task mutation UI in Admin Launch checklist (status/owner/due/client-blocker updates wired to onboarding task PATCH API). (Completed 2026-02-22 in `apps/admin/app/components/control-plane-workspace.tsx`; `apps/admin` typecheck passes in WSL with timeout, route-test command remains sandbox-non-authoritative due `tsx` IPC `EPERM`.)
- [x] Add onboarding plan lifecycle controls and persist onboarding-task signals into Admin Action Center/readiness/next-step guidance. (Completed 2026-02-22 in `apps/admin/app/components/control-plane-workspace.tsx`, `apps/admin/app/lib/action-center.ts`, and `apps/admin/app/lib/action-center.test.ts`; Windows Admin build + Prisma migrate validation passed, Windows route-test command blocked by mixed-platform `esbuild` binary mismatch.)
- [x] Add plan-level onboarding field editing UI in Launch checklist (`targetLaunchDate`, `pauseReason`) with tenant-scoped draft/save state wired to onboarding plan PATCH API. (Completed 2026-02-22 in `apps/admin/app/components/control-plane-workspace.tsx` with route coverage extension in `apps/admin/app/api/lib/routes.integration.test.ts`; WSL route tests + Admin typecheck pass.)
- [x] Implement durable onboarding task persistence in Admin control plane (schema, helpers, API routes, UI state) using the design proposal in `project_tracking/admin_onboarding_task_persistence_design.md`. (Completed 2026-02-22 across shared contracts/Prisma/db helpers/Admin onboarding routes/Launch checklist UI, including plan lifecycle + plan metadata editing + task editing + bulk actions + actor assignment + persisted onboarding signals in Action Center/readiness + server-side observability/readiness onboarding metrics.)
- [x] Surface server-side onboarding observability metrics in the Admin observability dashboard UI cards/tables (beyond backend summary + readiness integration). (Completed 2026-02-22 in `apps/admin/app/components/control-plane/PlatformHealthTabBody.tsx` with onboarding KPI cards + `Onboarding Rollout Health` panel.)
- [x] Add bulk actor assignment actions for onboarding tasks (set `ownerActorId` across selected tasks) with guardrails for role/actor mismatches. (Completed 2026-02-22 in `apps/admin/app/components/control-plane-workspace.tsx` via tenant-scoped bulk actor selector/action, compatibility guardrails, and incremental task PATCH updates.)
- [x] Resolve mixed-platform `esbuild` `node_modules` state and re-run Windows-authoritative `npm run test:routes --workspace @real-estate/admin` after onboarding persistence MVP changes. (Completed 2026-02-22 via Windows `npm rebuild esbuild`; `@real-estate/admin` route tests now pass `50/50` in Windows.)
- [x] Add tenant-level onboarding metrics columns/highlights to the observability readiness scoreboard (e.g., blocked/overdue/unassigned counts per tenant) to speed operator triage. (Completed 2026-02-22 via `ControlPlaneTenantReadinessScore.onboarding` server-side metrics in `packages/db/src/control-plane.ts` and readiness scoreboard UI chips in `apps/admin/app/components/control-plane/PlatformHealthTabBody.tsx`.)
- [x] Add actor-role compatibility guidance to per-task `Owner Actor` assignment control (not only bulk flow) for consistent onboarding assignment guardrails. (Completed 2026-02-22 in `apps/admin/app/components/control-plane-workspace.tsx` with compatible-actor filtering, stale/incompatible actor inline errors, and save-time validation.)
- [x] Add a combined bulk "owner role + actor" assignment action for faster onboarding triage. (Completed 2026-02-22 in `apps/admin/app/components/control-plane-workspace.tsx` using existing onboarding task PATCH API with one mutation per selected task.)
- [x] Add server-side per-tenant onboarding required-task completion counts to readiness/observability payload so the scoreboard can show progress context (not just risk counts). (Completed 2026-02-22 via `ControlPlaneTenantReadinessScore.onboarding` progress fields and server-side aggregation in `packages/db/src/control-plane.ts`, surfaced in Platform Health readiness + triage UI.)
- [x] Add route-level validation for onboarding task `ownerActorId` compatibility (if business rules should be enforced server-side, not only UI-side). (Completed 2026-02-22 by enforcing compatibility in shared DB helper `updateTenantOnboardingTask(...)` in `packages/db/src/control-plane.ts`; Admin task PATCH route surfaces helper errors and route tests cover compatibility-style error passthrough.)
- [x] Add a cross-tenant onboarding triage view/table (sort/filter by blocked/overdue/unassigned counts). (Completed 2026-02-22 in `apps/admin/app/components/control-plane/PlatformHealthTabBody.tsx` as `Onboarding Triage Queue` panel with filter/sort controls and persisted onboarding risk/progress chips.)
- [x] Add direct tests for shared DB onboarding task update compatibility enforcement (beyond route passthrough) when DB-layer test harness is available. (Completed 2026-02-22 by extracting DB compatibility matrix helper to `packages/db/src/onboarding-owner-assignment.ts` and adding direct unit coverage in `packages/db/src/onboarding-owner-assignment.test.ts`; `updateTenantOnboardingTask(...)` reuses the helper for server-side enforcement.)
- [x] Consider backend bulk onboarding task mutation endpoints if checklist sizes or operator throughput make repeated PATCH calls a bottleneck. (Completed 2026-02-23: queried local `AdminAuditEvent` telemetry publishes and found no published onboarding telemetry aggregates yet in the dev DB (`0` publishes), so the decision remains to keep repeated task PATCH orchestration and defer a dedicated bulk endpoint pending real usage evidence. Recommendation messaging/policy visibility remain in `apps/admin/app/lib/admin-usage-telemetry.ts` and `apps/admin/app/components/control-plane/PlatformHealthTabBody.tsx`.)
- [x] Add direct deep-link behavior from Platform Health triage rows to scroll/focus the Launch checklist onboarding panel (current quick action switches tenant + tab only). (Completed 2026-02-22 via `onOpenTenantLaunch` callback wiring + `#launch-onboarding-checklist` scroll/focus in `apps/admin/app/components/control-plane-workspace.tsx` and `PlatformHealthTabBody.tsx`.)
- [x] Add a lightweight Admin UI debug/inspection surface for browser-local onboarding usage telemetry (`admin-usage-telemetry.v1`) so operators/devs can review triage/bulk-action usage without DevTools. (Completed 2026-02-22 in `apps/admin/app/components/control-plane/PlatformHealthTabBody.tsx` with refresh/clear controls, event counters, recent events, bulk-action stats, and recommendation messaging.)
- [x] Decide whether any onboarding triage/bulk-action telemetry should be promoted from browser-local storage to server-side observability/audit summaries (and define retention/privacy boundaries). (Completed 2026-02-22 with an opt-in aggregate-only promotion path to Admin audit via `POST /api/observability/usage-telemetry`, explicit privacy/retention policy constants in `apps/admin/app/lib/admin-usage-telemetry.ts`, and Platform Health policy/publish UI. Raw recent events and tenant IDs are excluded from the published aggregate payload by design.)
- [x] Evaluate whether promoted telemetry should also feed server-side observability summaries (beyond audit-log persistence) and, if so, define aggregation windows/rollups. (Completed 2026-02-22 by adding `onboardingUsageTelemetry` rollup to `ControlPlaneObservabilitySummary`, aggregated from successful `tenant.observability.telemetry.publish` audit events over a 14-day window in `packages/db/src/control-plane.ts`, and surfacing it in Platform Health telemetry inspector UI.)
- [x] Revisit onboarding usage telemetry rollup window/retention alignment (currently 14-day observability rollup over audit events) and confirm it matches operator review cadence. (Completed 2026-02-23: kept the 14-day server rollup in `packages/db/src/control-plane.ts` as a biweekly window covering two weekly operator review cycles; codified cadence/rollup/retention policy metadata + alignment messaging in `apps/admin/app/lib/admin-usage-telemetry.ts` and surfaced it in `apps/admin/app/components/control-plane/PlatformHealthTabBody.tsx`.)
- [x] Tune onboarding bulk-endpoint recommendation thresholds (`ADMIN_BULK_ENDPOINT_RECOMMENDATION_THRESHOLDS`) after collecting real local/published telemetry usage data. (Completed 2026-02-23: local dev DB had no published telemetry aggregates yet (`0` publishes), so thresholds were tuned conservatively to avoid premature backend expansion while reacting faster to reliability issues: `minRunsForDecision=12`, `avgSelectedWarnAt=18`, `avgDurationWarnMs=12000`, `failureRateWarnRatio=0.10`; helper coverage added in `apps/admin/app/lib/admin-usage-telemetry.test.ts`.)

## CRM Elite Overhaul (Completed 2026-02-23)
- [x] Sprint 1: State management (Zustand + React Query), Quick-Add Lead, Universal Search, Pipeline Card Density.
- [x] Sprint 2: Speed-to-Lead Timer, Floating Activity Log, Browser Push Notifications.
- [x] Sprint 3: Showing Scheduling, Commission Tracker, Voice Notes. DB models: Showing, CommissionSetting, Commission.
- [x] Sprint 4: Typography (Outfit/JetBrains Mono), Motion/Micro-interactions, DensityToggle, Color System Enhancement.
- [x] Sprint 5: Drip Campaigns, Ad Spend Tracker, Team Roster. DB models: Campaign, CampaignEnrollment, AdSpend, TeamMember.
- [x] Sprint 6: AI Workflow Panel, NL Query in CommandPalette, NotificationDigest, ForecastPanel, BenchmarkPanel.
- [x] Sprint 7: SSE Real-Time, 36 New Route Tests (89 total), DOMPurify Security, Rate Limiter, Composite DB Indexes.
- [x] Sprint 8: Client Portal (HMAC tokens), MLS Property Cards, E-Signature Panel. DB model: ESignatureRequest.
- [ ] Generate and apply Prisma migrations for 8 new models (Showing, CommissionSetting, Commission, Campaign, CampaignEnrollment, AdSpend, TeamMember, ESignatureRequest) when targeting production DB.

## CRM Lead Profile Modal Redesign (Audit 2026-02-23, Session 14 ‚Üí Implemented Session 15)
- [x] Add tabbed navigation within the modal (Overview / Communication / Intelligence / Activity tabs) to break scroll-fatigue. (Completed 2026-02-23.)
- [x] Restructure "Lead + Contact Details" section into logical groups: Contact Info, Property Preferences, Follow-Up, Notes. (Completed 2026-02-23.)
- [x] Unify the three "next action" concepts (date/note fields, timeframe field, SmartReminderForm) into one clear widget. (Completed 2026-02-23.)
- [x] Move messaging tools (Templates, AI Composer, Gmail, Email History) out of "Lead Intelligence" into "Communication" tab. (Completed 2026-02-23.)
- [x] Auto-collapse AI sections behind expandable headers (like SmartReminderForm pattern). (Completed 2026-02-23 via CollapsibleSection component.)
- [x] Add "Link Contact" affordance when no contact exists (instead of just disabled fields). (Completed 2026-02-23.)
- [x] Combine Save Lead + Save Contact into a single "Save Changes" action. (Completed 2026-02-23.)
- [x] Make listing references in UnifiedTimeline clickable (opens CRM Listing Modal). (Completed 2026-02-23.)
- [x] Make Suggested Properties cards previewable (opens CRM Listing Modal). (Completed 2026-02-23.)
- [x] Add keyboard focus trap for modal accessibility. (Completed 2026-02-23.)
- [x] Replace emoji icons (üìû ‚úâÔ∏è üí¨ üìÖ) with consistent SVG icons. (Completed 2026-02-23.)
- [x] Increase modal padding and section gaps to reduce visual density. (Completed 2026-02-23.)
- [x] Remove redundant nested borders ‚Äî use spacing/background differentiation instead of double-boxing. (Completed 2026-02-23.)
- [x] Add visual hierarchy to section headings (primary vs. secondary). (Completed 2026-02-23 via crm-modal-heading-lg/sm/label CSS classes.)
- [x] Add section-level expand/collapse for less-used sections (Voice Notes, Showings). (Completed 2026-02-23 via CollapsibleSection.)
- [x] Fix MlsPropertyCard naming/labeling ‚Äî renamed to PropertyPreferences. (Completed 2026-02-23.)
- [x] Rename "Next Action" field (timeframe) to clarify its purpose ‚Äî moved to Property Preferences. (Completed 2026-02-23.)

## CRM Listing Modal Integration (New Feature ‚Äî Implemented 2026-02-23)
- [x] Create `CrmListingModal` wrapper in `apps/crm` using shared listing types from `packages/types/src/listings.ts`. (Completed 2026-02-23.)
- [x] Port photo gallery from `apps/web` ListingModal (no cross-app import ‚Äî rewritten in CRM context). (Completed 2026-02-23.)
- [x] Replace agent branding/inquiry CTA with CRM actions: Schedule Showing, Share with Client, Add to Suggested. (Completed 2026-02-23.)
- [x] Add lead context header showing which lead is viewing this listing. (Completed 2026-02-23.)
- [ ] Add agent notes/annotations capability for listing-in-context-of-lead.
- [ ] Show listing engagement data if lead has viewed/favorited this listing.
- [x] Wire clickable listing references throughout Lead Profile Modal (timeline events, suggested properties). (Completed 2026-02-23.)
- [ ] Add "Copy Listing Link" and "Email Listing to Lead" share actions integrated with CRM communication tools.
- [ ] Tenant-scope all listing data (remove hardcoded brand images).

## AI Roadmap
- [x] Create prompt registry and versioning. (Completed ‚Äî `PROMPT_VERSIONS` registry in `packages/ai/src/prompts/crm-prompts.ts` with per-prompt version tracking.)
- [x] Implement AI Market Digest (#55) ‚Äî Dashboard market analytics widget with KPI strip, narrative, highlights, and agent takeaway. Rule-based baseline + AI enhancement. (Completed 2026-02-22.)
- [x] Implement AI Listing Description Generator (#56) ‚Äî Modal with property details form, tone selector (4 tones), feature chips, MLS-ready description output with copy/regenerate. Rule-based baseline + AI enhancement. (Completed 2026-02-22.)
- [x] Implement Predictive Lead Scoring (#57) ‚Äî Naive Bayes conversion prediction from historical Won/Lost patterns. 9 bucketed features, Laplace smoothing, 50-lead minimum threshold, in-memory distribution cache. API route + UI widget in Lead Profile Modal. (Completed 2026-02-22.)
- [x] Implement Smart Lead Routing (#58) ‚Äî Advisory agent-to-lead matching with 5 weighted factors (geo specialization, property type expertise, pipeline load, conversion rate, response time). Solo self-assessment + team ranking modes. API route + UI widget in Lead Profile Modal. (Completed 2026-02-22.)
- [x] Implement CRM AI differentiators ‚Äî NL query endpoint, daily digest, AI workflow toggles, revenue forecast, performance benchmarks. (Completed 2026-02-23 as Sprint 6 of Elite Overhaul.)
- [ ] Implement AI content generation pipeline for website onboarding.
- [ ] Implement CRM next-best-action service.
- [ ] Add AI result feedback loop and quality scoring.

## Business / GTM
- [x] Define plan matrix (Starter/Growth/Pro/Team). (Completed 2026-02-20 in `.brain/PRODUCT_SPEC.md` section `5.1` with canonical control-plane plan mapping, pricing targets, and commercial constraints.)
- [x] Define setup package scope and onboarding SLAs. (Completed 2026-02-20 in `.brain/PRODUCT_SPEC.md` section `5.2` with deliverable scope, 15-business-day onboarding timeline, and SLA pause/change-order rules.)
- [x] Define managed services add-ons and operational model. (Completed 2026-02-20 in `.brain/PRODUCT_SPEC.md` section `5.3` with add-on catalog, pod staffing ratios, cadence, contract minimums, and fulfillment SLAs.)

## Later
- [ ] Team and brokerage hierarchy model.
- [ ] Marketing attribution dashboard.
- [ ] Listing portal pilot and feasibility analysis.
